---
title: 计算机系统概述
index_img: /post_index_img/
date: 2020-05-23T16:03:38.000Z
categories:
    - 计算机组成
tags:
    - 计算机组成
---

# 1. 计算机发展历程

## 1.1. 硬件发展

1. 四代

|代|逻辑单元|语言|主存 | 运算速度 | 概念 |
| - | - | - | - | - | - |
| 电子管(46-57) | 电子管 | 机器语言 | 延迟线/磁鼓(容量极小) | 几千~几万次/s   | |
| 晶体管(58-64) | 晶体管 | 高级语言(如`fortran`) | 磁心存储器 | 几万~几十万次/s | 操作系统雏形 |
| 中小规模集成电路(65-71) | 中小规模集成电路$\rightarrow$微处理器 | 高级语言 | 逐渐半导体存储器      |  | 分时操作系统 |
| 超大规模集成电路(71-)   | 大规模/超大规模集成电路 |  |  | | 并行,流水线,高速缓存,系统存储器 |

2. 算机元件更新换代

| | 内容 |
| - | - |
| 默尔定律     | 晶体管数目18个月一倍,性能一倍 |
| 半导体存储器 | 默尔定律 | 晶体管数目18个月一倍,性能一倍 |
| 微处理器发展 | 8,16,32,64位(进行一次整数运算所能处理的二进制数据的位数) |

## 1.2. 软件发展

## 1.3. 计算机分类和发展方向

<html>
<table>
  <tr>
    <th >分类方式</th>
  </tr>
  <tr>
    <td></td>
    <td>电子模拟计算机</td>
    <td colspan="7">电子数字计算机</td>
  </tr>
  <tr>
    <td>效率,速度,价格<br />运行的经济性和适应性</td>
    <td></td>
    <td>专用</td>
    <td colspan="6">通用</td>
  </tr>
  <tr>
    <td>体积,功耗,性能数,据存储量,<br />指令系统的复杂程度,价格</td>
    <td>1</td>
    <td>2</td>
    <td>巨型机</td>
    <td>大型机</td>
    <td>中型机</td>
    <td>小型机</td>
    <td>微型机</td>
    <td>单片机</td>
  </tr>
</table>
</html>

| 分类方式     | 指令流 | 数据流 |      | |
| - | ------ | ------ | ---- | - |
| 指令和数据路 | 单     | 单     | SISD | 传统冯-诺依曼体系结构 |
| | 单     | 多     | SIMD | 包括 阵列处理器和向量处理器系统 |
| | 多     | 单     | MISD | 不存在 |
| | 多     | 多     | MIMD | 多处理器和多计算机系统 |

## 1.4. 语言

| 语言     | 级别 | 计算机直接执行 | 执行方式 | 编写 | 过程 | 翻译时机 |
| - | ---- | - | - | - | - | - |
| 机器语言 | 一   | 是 | | 二进制指令编码+助记符(便记忆)   | | |
| 汇编语言 | 二   | | | 英文单词/缩写代替二进制指令代码 | 汇编->机器(汇编) | |
| 解释语言 |      | | 翻译一句执行一句 | | | 程序执行时->机器语言 |
| 高级语言 | 三   | | | | 高级->汇编(编译)<br />汇编->机器(汇编) | |
| 正则语言 |      | | | | | |

## 1.5. 特点

| 特点   | 原因 | 解释 | |
| ------ | - | - | - |
| 二进制 | 物理器件性能 | 制造成本低   | 两种状态10<->两个稳态的物理器件(高低电平) |
| | | 便于逻辑判断 | 10<->逻辑值"真假" |
| | | 编码运算简单 | 通过逻辑门电路<br />二进制运算法则少(简单)<br />简化硬件结构 |

# 2. 计算机系统层次结构

## 2.1. 计算机系统的组成

配套的硬件设备+软件系统

## 2.2. 计算机硬件的基本组成

### 2.2.1. 冯$\cdot$诺依曼机

1. 概念--存储程序
   1. 奠定现代计算机基本结构
   2. 以此为基础-->冯$\cdot$诺依曼机
   3. "指令以代码形式录入计算机主存储器,按其首地址顺序执行指令"
   4. 因此应有五大功能
      1. 数据传送
      2. 数据存储
      3. 数据处理
      4. 操作控制
      5. 操作判断
2. 特点
   1. 计算机硬件系统由**运算器、存储器、控制器、输入设备和输出设备** 5 大部件组成。
      1. 现在 (运算器+控制器-->中央处理器)
   2. 指令和数据以同等地位存储在存储器中,并可按地址寻访。
   3. 指令和数据均用二进制代码表示。
   4. 指令由操作码和地址码组成,操作码用来表示操作的性质,地址码用来表示操作数在存储器中的位置。
   5. 指令在存储器内按顺序存放。通常,指令是顺序执行的,在特定条件下可根据运算结构或根据设定的条件改变执行顺序。
   6. 早期的冯$\cdot$诺依曼机以运算器为中心,输入/输出设备通过运算器与存储器传送数据
   7. 基本工作方式--控制流驱动

![](%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/2020-05-23-20-52-05.png)

### 2.2.2. 现代计算机

|      | 存储器容量 | 运算器和控制器 | 信息量 | IO与CPU速度差 | 因此 |
| ---- | - | - | ------ | - | - |
| 之前 | 小 | 分离 | | | 运算器中心-->完成信息传递 |
| 现在 | | | 大     | 大 | 存储器中心-->IO绕过CPU    |

![](%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/2020-05-23-21-26-51.png)

### 2.2.3. 计算机功能部件

1. 输入设备: 程序数据-->机器所能识别形式

2. 输出设备: 某些形式

3. 存储器

    | 分类 | cpu直接访问 | 组成     | 工作方式 |
    | - | - | - | - |
    | 主存储器(内存)   | 是 | 存储单元 | 按地址存取<br>(相联存储器->也可以按内容访问) |
    | 辅助存储器(外存) | | | |

    $$
    \text{存储单元}\left\{\begin{matrix}
    \end{matrix}\right.\underbrace{\text{若干存储元件}\rightarrow\text{二进制代码}(0/1)}_{\text{一串}\rightarrow\underbrace{\text{存储字}}_{\text{存储字长}\rightarrow 1B(8bit)/字节的偶数倍}}
    $$
    ![](%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/2020-05-23-22-20-21.png)

    |     | 位数       |     |
    | --- | - | --- |
    | MAR | 地址码长度 |     |
    | MDR | 存储字长   |     |
    |     | |     |

4. 运算器

    | 作用 | 核心 | 包含 | |
    | - | - | - | - |
    | 计算机执行部件<br />接收控制器命令<br />--> 数据加工处理<br />-->算数/逻辑运算 | 算数逻辑单元<br>(`ArithmeticandLogicalUnit`,`ALU`) | 算数逻辑单元ALU | 算数/逻辑运算 |
    | | | 暂存寄存器 | 主存来的数据(不能放在通用计算器-->破坏其原有内容)<br />应用程序员透明 |
    | | | 累加寄存器ACC | 通用寄存器<br />ALU运算结果信息<br />加法运算一个输入端 |
    | | | 通用寄存器组 AX,BX,CS,DX,SP等 | 操作数<br />地址信息 |
    | | | 程序状态(/标志)寄存器(`PSW`)  | 各种状态信息(为算数逻辑运算指令\|\|测试指令的结果而建立)<br />溢出标志OF,<br />符号标志SF,<br />零标志ZF,<br />进位标志CF...<br />这些位参与并决定微操作的形成 |
    | | | 移位器 | 操作数/运算结果 移位运算 |
    | | | 计数器CT | 控制 乘除运算 操作步骤 |
    
5. 控制器
    <img src="%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/image-20200613152435689.png" alt="image-20200613152435689" style="zoom:67%;" />
    
    | 作用 | 类型   | 组成 | | |
    | - | ------ | - | - | - |
    | 指挥各部件协调工作 <br /> 运算器,IO设备等$\overset{\text{控制}}{\rightarrow}$有机整体<br />执行指令::(控制器发出一组微操作) | 硬布线 | 程序计数器(PC) | 当前欲执行指令地址<br>自增功能<br>与MAR一条直接通路 | |
    | **工作原理** | 微程序 | 指令寄存器(IR) | 当前指令(来自MDR) | 操作码OP(IR)-->CU-->分析指令&发出各种位操作命令序列 |
    | 指令操作码+指令执行步骤(微命令序列)+条件信号$\overset{\text{形成}}{\rightarrow}$控制信号 | | | | 地址码Ad(IR)-->MAR-->取操作数 |
    | **主要功能** | | 控制单元(CU)   | 指令译码器 | 操作码-->译码-->提供控制器 操作信号 |
    | 主存取指令&指出下一条指令内存中位置<br />指令译码&测试-->操作信号-->启动规定动作<br />指挥控制CPU,主存,IO设备 数据流动方向  | | | 存储器地址寄存器 | 要访问的主存单元地址 |
    | | | | 存储器数据寄存器 | 要写入的\|\|读出的 |
    | | | | 时序系统 | 统一时钟(CLOCK)分频得到 |
    | | | | 微操作信号发生器 | IR+PSW+时序信号$\overset{\text{形成}}{\rightarrow}$控制信号<br />结构: 组合逻辑型\|\|存储逻辑型 |

| CPU寄存器类型 | | |
| - | - | - |
| 用户可见      | 可编程 | 通用寄存器组     |
| | | 程序状态字寄存器 |
| 不可见 | 透明,不可编程 | 存储器地址寄存器 |
| | | 存储器数据寄存器 |
| | | 指令寄存器       |

| CPU标志触发器 (1有效) |      | | 控制信号 |
| - | ---- | - | - |
| FE | 取指 | | 1$\rightarrow$FE |
| IND | 间指 | | .. |
| EX | 执行 | | .. |
| INT | 中断 | 保存程序断点(SP-1) | .. |

![](%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/2020-05-24-09-07-18.png)

<center><small>冯-诺依曼结构的模型机</small></center>


| 相关     |      | |
| - | ---- | - |
| 总线     | 地址 | 来自MAR |
| | 控制 | 有读写信号线 |
| | 数据 | |
| 数据通路 |      | 数据交换:<br />运算器<->寄存器<br />寄存器<->寄存器 |

## 2.3. 计算机软件的分类

1. 系统软件和应用软件

    | 分类     | | 例如 |
    | - | - | - |
    | 系统软件 | 保证计算机高效,正确运行的基础软件<br>通常作为系统资源提供给用户 | 操作系统OS<br>数据库管理系统DBMS<br>语言处理程序<br>分布式软件系统<br>网络软件系统<br>标准库程序<br>服务型程序 <br> 汇编程序 <br /> 编译程序 |
    | 应用软件 | 用户为解决某个应用领域中的问题 | 各种科学计算类程序<br>工程设计类程序<br>数据统计<br>处理程序 |

## 2.4. 计算机工作过程

1. 源程序到可执行文件

    ![](%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/2020-05-24-11-04-44.png)

    | 阶段     | |     |
    | - | - | --- |
    | 1.预处理 | #开头命令-->.h文件内容插入到程序文件 |     |
    | 2.编译   | |     |
    | 3.汇编   | -->指令$\overset{\text{打包}}{\rightarrow}$可重定向目标文件(二进制)    |     |
    | 4.链接   | 多个可重定向文件+标准库函数$\overset{合并}{\rightarrow}$可执行目标文件 |     |
2. 指令执行过程(`例: 取数指令`)
   1. 取指令: `PC->MAR->M->MDR->IR`
   2. 分析指令(译码): `OP(IR)->CU`
   3. 执行指令: `Ad(IR)->MAR->M->MDR->ACC`
   4. `(PC)+1->PC`

## 2.5. 计算机多级层级结构

<img src="%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0/image-20200524112918816.png" alt="image-20200524112918816" style="zoom:80%;" />

1. 上层是下层的功能实现
2. 仅有下层没有上层是可以的

| 层级 | 本质 | |
| - | - | - |
| M0: 微程序机器层 | 实在的硬件层 | |
| M1: 传统机器语言层      | 实际的机器层 | |
| M2: 操作系统层(/混合层) | 操作系统程序(机器指令+广义指令)实现     | **广义指令**: 扩展机器功能(操作系统定义和解释的软件指令) |
| M3: 汇编语言层 | 为用户提供符号化语言-->编写汇编语言程序 | |
| M4: 高级语言层 | 面向用户-->方便用户编写应用程序 | |
| (应用层) | 解决实际问题和应用问题的处理程序组成    | |




# 3. 计算机的性能指标

## 3.1. 主要性能指标

| 指标 | 概念 | 长度/大小 | 相关 |
| - | - | - | - |
| **机器字长** | 一次(定点)整数运算所能处理的二进制数据的位数 | 一般=内部寄存器大小(字节(8)的整数倍)<br />越长: 数的表示范围越大, 精度越高 | 寄存器位数, 加法器 |


| 指标 | 概念 |
| - | - |
| **数据通路带宽** | (**数据通路**: 各个子系统通过数据总线连接形成的数据传送路径)<br />这里指外部数据总线一次所能并行传送信息的位数<br />(与CPU内部数据总线宽度(内部寄存器的大小)可能不同) |


| 指标 | 概念 | 长度/大小 | 相关 |
| - | - | - | - |
| **主存容量** | 单位: 字节\| 字数x字长(`512K x 16`位) | | `MAR`位数: <br />反映(存储单元的个数\|可寻址范围的最大值(不一定是实际存储器的容量)) |

CPU运算速度: 相关:(架构,缓存,指令集,CPU位数,Cache大小等)

| 指标 | 相关 | | | 优化 |
| - | - | - | - | - |
| **运算速度**<br/>每秒运行指令数 | 吞吐量响应时间 | **吞吐量** | **系统在单位时间内处理请求的数量**<br/>(信息输入,<br/>CPU取指令,<br/>数据从内存存取<br/>数据从内存到为外部设备)的速度<br/>**计算机系统性能综合参数**    | 1.优化数据通路结构<br/>2.主存的存取周期  |
| | | **响应时间** | **时间**:发送请求~系统响应获得结果<br/>**包括**:CPU(执行)时间+等待时间(磁盘存储器访问,IO,操作系统开销...) | |  |  | 主频CPU时钟周期 | **CPU时钟周期** | **节拍脉冲\|\|T周期,->主频的导数**<br/>CPU中最小时间单位 |  |
| | | **主频(CPU时钟频率)** | **机器内部主时钟(脉冲)频率**-->衡量机器速度重要参数<br/>越高-->越快(执行一个步骤的时间短) | |
| | | **CPI** | (ClockcyclePerInstruction)执行一条指令平均所需的时钟周期数 | 1.系统结构<br/>2.指令集<br/>3.计算机组织 |
| | | **CPU(执行)时间**     | 运行一个程序<br/>=**CPU时钟周期数/主频**<br/>=**(指令条数x`CPI`)/主频**<br/>-->CPU性能(.this)要素<br/>①主频<br/>②CPI<br/>③指令条数<br/>**三者相互制约** | |
| | `MIPS`<br/>`MFLOPS`<br/>`GFLOPS`<br/>`TFLOPS` | **`MIPS`** | (`MillionInstructionsPerSecond`)<br/>=**指令条数/(执行时间x^6$** | |
| | | **`MFLOPS`** | (`MegaFloating-pointOperationPerSecond`)<br/>百万次<br/>=**浮点操作次数/执行时间x^6$** | |
| | | **`GFLOPS`** | (`GigaFloating-pointPerSecond`)<br/>十亿次<br/>^9$ | |
| | | **`TFLOPS`** | (`<br/>万亿次<br/>^12$ | |

## 3.2. 专业术语

| 名称 | 解释 | 基本特性 |
| - | - | - |
| **系列机**       | 具有基本相同的体系结构，使用相同基本指令系统的多个不同型号的计算机组成的一个产品系列。 | 指令系统向后兼容(时间上,新机器兼容以前机器的指令系统) |
| **兼容** | 软/硬件-->同系列不同型号计算机系统 | |
| **软件可移植性** | 直接/少量修改-->另一个系列计算机 | |
| **固件** | 程序固定在ROM中组成的部件<br />软件特性的硬件<br />软硬件结合的产物 | |

| 名称 | 概念 | = | 周期     |
| - | - | - | - |
| **存储字长** | 一个存储单元中二进制代码的位数 | `MDR`位数 | 机器周期 |
| **数据字长** | 数据总线一次能并行传送信息的位数 | | |
| **机器字长** | 一次能处理(作为一个整体)的二进制数的长度<br />计算精度 | 计算机的位数<br />寄存器的位数 | |
| **指令字长** | 一个指令字中包含的二进制代码的位数 | n*存储字长 | 取值周期 |

# 4. 相关问题

## 4.1. 软件硬件实现同一个功能

1. 软硬件 形态 不同
   1. 硬件->实体->物质基础
   2. 软件->信息
   3. **逻辑功能**->等效

## 4.2. 翻译, 汇编, 编译, 解释程序

1. 翻译  (高级语言-->机器语言(目标代码))
   1. 编译
      1. 一次全部翻译(不同体系结构下, 编译成目标程序不同)
      2. 执行目标程序
   2. 解释
      1. 翻译一条
      2. 立即执行
2. 汇编  (汇编语言程序-->机器语言程序)

## 4.3. 透明性

| |       | 汇编程序员 | 高级语言程序员 |
| - | ----- | - | - |
| PC(指定待执行的地址) |       | v | |
| 状态寄存器 |       | v | |
| 通用寄存器 |       | v | |
| 指令的格式 |       | v | |
| 机器结构 |       | v | |
| 数据格式 |       | v | |
| CPU内部寄存器 | `IR`  | | |
| | `MAR` | | |
| | `MDR` | | |

## 4.4. 计算机体系结构 & 计算机组成

1. 体系结构
   1. 机器/汇编语言程序员看的到的传统机器属性
      1. 指令集
      2. 数据类型
      3. 存储器寻址技术
      4. ...
2. 组成
   1. 如何实现体系结构体现的属性
      1. 指令集 (指令的实现(取值, 析指,取操作数, 如何运算))

## 4.5. 基准程序执行

1. 一般情况
   1. 能反应机器性能
2. 特殊
   1. 语句存在拼读差异->不能完全说明问题
